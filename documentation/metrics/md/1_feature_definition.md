## Категория 1 — Является ли .md фичой по определению

См. также: `../assistant.md` (раздел «1) Является ли .md фичой по определению»).

### Terminology consistency
- Что проверяет: согласованность терминов между `## Описание фичи` (.md) и шагами `.feature` (особенно Then/And).
- Опора в коде: `tests/analyze/metrics/extras.py` → ключ `terminology_consistency` (включается `TERMINOLOGY_CONSISTENCY_ENABLE`).
- Формула: коэффициент равен `kw_hit_rate` из модуля покрытия.
  - Пусть `R = {r_i}` — требования из .md; `U = {u_j}` — юниты из `.feature`.
  - Для каждого `r_i` берём лучший `u*_i` и считаем, выполнено ли условие пересечения по токенам: `|tokens(r_i) ∩ tokens(u*_i)| ≥ 2`.
  - `kw_hit_rate = (# покрытых r_i) / |R|` ∈ [0,1].
  - `terminology_consistency := kw_hit_rate`.

### FVI_mit (валидность .md как фичи)
- Что проверяет: структурную валидность .md по шаблону (наличие `Цель:` и секции `## Описание фичи` с ≥1 непустым абзацем).
- Опора в коде: `tests/analyze/metrics/extras.py` → ключ `fvi_mit` (включается `FVI_MIT_ENABLE`).
- Формула (эвристическая):
  - `goal_ok := 1`, если в .md есть строка, начинающаяся с `Цель:`; иначе `0`.
  - `acc_ok := 1`, если в .md есть секция `## Описание фичи` (регистронезависимо); иначе `0`.
  - `acc_len_ok := 1`, если внутри секции есть ≥1 непустой абзац; иначе `0`.
  - `fvi_mit := 1`, если `goal_ok=1 ∧ acc_ok=1 ∧ acc_len_ok=1`; `0.5`, если хотя бы одно из (`goal_ok`, `acc_ok`) истинно; иначе `0`.







