## Категория 2 — Не реализована ли фича в других .md

См. также: `../assistant.md` (раздел «2) Не реализована ли фича в других .md»).

### BM25Okapi (поиск близких .md)
- Что проверяет: текстовую близость текущей фичи к другим .md для выявления дубликатов/перекрытий.
- Опора в коде: `tests/analyze/metrics/md_duplicates.py` (включается `BM25_ENABLE`).
- Формула:
  - Для каждой фичи берём её `## Описание фичи` (нормализованный текст) как набор «запросов» `Q={q_k}`.
  - Для каждого другого документа строим токенизированные «документы» `D={d_j}` и считаем `bm25_best(q_k, D)`.
  - Итоговый скор пары = среднее по `k` значений `bm25_best`.

### TF‑IDF cosine (поиск близких .md)
- Что проверяет: косинусная близость (TF‑IDF) текущей фичи к другим .md.
- Опора в коде: `tests/analyze/metrics/md_duplicates.py` (включается `TFIDF_ENABLE`).
- Формула:
  - Формируем словарь по запросу и документам; считаем `idf(t)=log((N+1)/(df(t)+1))+1`.
  - Вектор запроса: `tfidf_q(t)=tf_q(t)*idf(t)`; вектор документа аналогично.
  - `cos(q,d)=⟨tfidf_q, tfidf_d⟩/(||q||·||d||)`; берем максимум по `d∈D` для каждого `q`, усредняем по `q`.







